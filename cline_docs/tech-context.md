- **File Editing Best Practices (Cline)**:
  - **Critical Issues to Avoid**:
    - **Diff Edit Mismatch Epidemic**: The most severe reliability issue where `replace_in_file` fails with "Diff Edit Mismatch" errors even when search blocks exactly match file content
    - **Line Ending Variations**: LF vs CRLF differences break matching - be extremely careful with whitespace
    - **VSCode Auto-formatting**: Changes to whitespace after edits can break subsequent diff matching
    - **Tool Call Format Errors**: Models failing to follow XML tool formatting requirements
  - **`replace_in_file` for Targeted Edits**:
    - **Exact Match**: `SEARCH` content must match existing file content *exactly*, including whitespace, indentation, and line endings
    - **Character-by-Character Matching**: Cannot handle even minor formatting differences
    - **Concise Blocks**: Keep `SEARCH/REPLACE` blocks concise, with just enough lines to uniquely identify the section
    - **Order of Blocks**: List multiple `SEARCH/REPLACE` blocks in the order they appear in the file
    - **Avoid Extra Spaces**: Inconsistent indentation and extra spaces cause failures
  - **`write_to_file` for New Files or Complete Overwrites**:
    - **Complete Content**: Provide the *complete* and final content for the file
    - **Fallback Risk**: When `replace_in_file` fails, fallback to `write_to_file` can cause content truncation
    - **Large File Caution**: Particularly problematic with large files that may get corrupted
  - **Error Recovery Strategies**:
    - **Review Tool Results**: Use the system-provided final state of the file (after auto-formatting) as the reference for subsequent edits
    - **Analyze Failure Messages**: Examine error messages for specific reasons for failure (e.g., "SEARCH content not found")
    - **Retry with Different Approach**: If diff matching fails repeatedly, consider using `write_to_file` for complete rewrite
    - **Model-Specific Issues**: Claude 4 uses incorrect search block format (`<<<<<< SEARCH>` instead of `<<<<<<< SEARCH`)
  - **Working Directory**: Ensure all file paths are relative to the current working directory (`c:\Users\George\Projects\otter`)